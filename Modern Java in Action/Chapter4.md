# Chap4. μ¤νΈλ¦Ό μ†κ°

## 4.1 μ¤νΈλ¦Όμ΄λ€?

- μ„ μ–Έν•μΌλ΅ μ»¬λ ‰μ… λ°μ΄ν„°λ¥Ό μ²λ¦¬ κ°€λ¥
- λ©€ν‹°μ¤λ λ“λ¥Ό κµ¬ν„ν•μ§€ μ•μ•„λ„ λ°μ΄ν„°λ¥Ό **ν¬λ…ν•κ²** λ³‘λ ¬ μ²λ¦¬ κ°€λ¥

μ¤νΈλ¦Όμ΄ μ–΄λ–¤ μ μ©ν• κΈ°λ¥μ„ μ κ³µν•λ”μ§€ μ½”λ“λ΅ ν™•μΈ!

```java
// μλ°” 7 μ½”λ“
public static List<String> getLowCaloricDishesNamesInJava7(List<Dish> dishes) {
    List<Dish> lowCaloricDishes = new ArrayList<>();
    for (Dish d : dishes) {
      if (d.getCalories() < 400) {
        lowCaloricDishes.add(d);
      }
    }
    List<String> lowCaloricDishesName = new ArrayList<>();
    Collections.sort(lowCaloricDishes, new Comparator<Dish>() {
      @Override
      public int compare(Dish d1, Dish d2) {
        return Integer.compare(d1.getCalories(), d2.getCalories());
      }
    });
    for (Dish d : lowCaloricDishes) {
      lowCaloricDishesName.add(d.getName());
    }
    return lowCaloricDishesName;
  }

--------------------------------------------------------------------------------

// μλ°” 8 μ½”λ“
public static List<String> getLowCaloricDishesNamesInJava8(List<Dish> dishes) {
    return dishes.stream()
        .filter(d -> d.getCalories() < 400) // 400 μΉΌλ΅λ¦¬ μ΄ν•μ μ”λ¦¬ μ„ νƒ
        .sorted(comparing(Dish::getCalories)) // μΉΌλ΅λ¦¬λ΅ μ”λ¦¬ μ„ νƒ
        .map(Dish::getName) // μ”λ¦¬λ… μ¶”μ¶
        .collect(toList()); // λ¨λ“  μ”λ¦¬λ…μ„ λ¦¬μ¤νΈμ— μ €μ¥
  }

μ„μ™€ κ°™μ€ μ½”λ“λ¥Ό ν†µν•΄ μ–»λ” μ΄μµ
 1. μ„ μ–Έν•μΌλ΅ μ½”λ“ κµ¬ν„ κ°€λ¥
 2. filter, sorted, map, collect μ™€ κ°™μ€ μ—¬λ¬ λΉλ”© λΈ”λ΅ μ—°μ‚°μ„ μ—°κ²°ν•΄ λ³µμ΅ν• λ°μ΄ν„° μ²λ¦¬ νμ΄ν”„λΌμΈ μ μ‘
```

<aside>
π’΅ μλ°” 8 μ¤νΈλ¦Ό APIμ νΉμ§•
- μ„ μ–Έν•: λ” κ°„κ²°ν•κ³  κ°€λ…μ„±μ΄ μΆ‹μ•„μ§
- μ΅°λ¦½ν•  μ μμ: μ μ—°μ„±μ΄ μΆ‹μ•„μ§
- λ³‘λ ¬ν™”: μ„±λ¥μ΄ μΆ‹μ•„μ§

</aside>

## 4.2 μ¤νΈλ¦Ό μ‹μ‘ν•κΈ°

### μ¤νΈλ¦Όμ μ •μ

β€**λ°μ΄ν„° μ²λ¦¬ μ—°μ‚°**μ„ μ§€μ›ν•λ„λ΅ **μ†μ¤**μ—μ„ μ¶”μ¶λ **μ—°μ†λ μ”μ†**β€™

- μ—°μ†λ μ”μ†
    - μ»¬λ ‰μ…κ³Ό λ§μ°¬κ°€μ§€λ΅ νΉμ • μ”μ† ν•μ‹μΌλ΅ μ΄λ£¨μ–΄μ§„ μ—°μ†λ κ°’ μ§‘ν•©μ μΈν„°νμ΄μ¤ μ κ³µ
    - μ»¬λ ‰μ…μ μ£Όμ κ°€ λ°μ΄ν„°λΌλ©΄ μ¤νΈλ¦Όμ μ£Όμ λ” κ³„μ‚°
- μ†μ¤
    - μ»¬λ ‰μ…, λ°°μ—΄, I/O μμ› λ“±μ λ°μ΄ν„° μ κ³µ μ†μ¤λ΅ λ°μ΄ν„° μ†λΉ„
        
        β†’ λ¦¬μ¤νΈλ΅ μ¤νΈλ¦Όμ„ λ§λ“¤λ©΄ μ¤νΈλ¦Όμ μ”μ†λ” λ¦¬μ¤νΈμ μ”μ†μ™€ κ°™μ€ μμ„ μ μ§€
        
- λ°μ΄ν„° μ²λ¦¬ μ—°μ‚°
    - μΌλ°μ μΌλ΅ μ§€μ›ν•λ” μ—°μ‚°κ³Ό λ°μ΄ν„°λ² μ΄μ¤μ™€ λΉ„μ·ν• μ—°μ‚° μ§€μ›
        - ex) filter, map, reduce, find, match, sort λ“±μΌλ΅ λ°μ΄ν„° μ΅°μ‘
    - μμ°¨μ μΌλ΅ λλ” λ³‘λ ¬λ΅ μ‹¤ν–‰

### μ¤νΈλ¦Όμ μ£Όμ” νΉμ§•

- **νμ΄ν”„λΌμ΄λ‹**: μ¤νΈλ¦Ό μ—°μ‚°λΌλ¦¬ μ—°κ²°ν•΄μ„ μ»¤λ‹¤λ€ νμ΄ν”„λΌμΈ κµ¬μ„±ν•λ„λ΅ μ¤νΈλ¦Ό μμ‹  λ°ν™
    
    β†’ κ·Έ λ•λ¶„μ— **laziness**, **short-circuiting** κ°™μ€ μµμ ν™”λ¥Ό μ–»μ
    
- **λ‚΄λ¶€ λ°λ³µ**: λ°λ³µμλ¥Ό μ΄μ©ν•΄μ„ λ…μ‹μ μΌλ΅ λ°λ³µν•λ” μ»¬λ ‰μ…κ³Ό λ‹¬λ¦¬ μ¤νΈλ¦Όμ€ λ‚΄λ¶€ λ°λ³µ μ§€μ›

### μμ : μ”λ¦¬ λ¦¬μ¤νΈ

![4_1](https://github.com/znight1020/Reading-Development-Book/assets/104980470/2151673a-8aa3-4779-9fef-35cc6fe77fe1)

```java
import static java.util.stream.Collectors.toList;
List<String> threeHighCaloricDishNames =
	menu.stream()
				.filter(dish -> dish.getCalories() > 300)
				.map(Dish::getName)
				.limit(3)
				.collect(toList());
```

- filter: λλ‹¤λ¥Ό μΈμλ΅ λ°›μ•„ μ¤νΈλ¦Όμ—μ„ νΉμ • μ”μ† μ μ™Έ
- map: λλ‹¤λ¥Ό μ΄μ©ν•΄μ„ ν• μ”μ†λ¥Ό λ‹¤λ¥Έ μ”μ†λ΅ λ³€ν™ν•κ±°λ‚ μ •λ³΄ μ¶”μ¶
- limit: μ •ν•΄μ§„ κ°μ μ΄μƒμ μ”μ†κ°€ μ¤νΈλ¦Όμ— μ €μ¥λμ§€ λ»ν•κ² μ¤νΈλ¦Ό ν¬κΈ° μ¶•μ†
- collect: μ¤νΈλ¦Όμ„ λ‹¤λ¥Έ ν•μ‹μΌλ΅ λ³€ν™

## 4.3 μ¤νΈλ¦Όκ³Ό μ»¬λ ‰μ…

μΌμƒμƒν™μ—μ„ μ°Ύμ•„λ³΄λ” μ¤νΈλ¦Ό, μ»¬λ ‰μ…

- μ»¬λ ‰μ…: DVD
- μ¤νΈλ¦Ό: μΈν„°λ„· μ¤νΈλ¦¬λ°

<aside>
π’΅ λ°μ΄ν„°λ¥Ό μ–Έμ  κ³„μ‚°ν•λλƒκ°€ μ»¬λ ‰μ…κ³Ό μ¤νΈλ¦Όμ κ°€μ¥ ν° μ°¨μ΄

</aside>

### μ»¬λ ‰μ…

- ν„μ¬ μλ£κµ¬μ΅°κ°€ ν¬ν•¨ν•λ” λ¨λ“  κ°’μ„ λ©”λ¨λ¦¬μ— μ €μ¥
    - λ¨λ“  μ”μ†λ” μ»¬λ ‰μ…”λ„¤ μ¶”κ°€ν•κΈ° μ „μ— κ³„μ‚°

### μ¤νΈλ¦Ό

- μ΄λ΅ μ μΌλ΅ **μ”μ²­ν•  λ•λ§ μ”μ†λ¥Ό κ³„μ‚°** ν•λ” κ³ μ •λ μλ£κµ¬μ΅°
    - μ¤νΈλ¦Όμ μ”μ†λ¥Ό μ¶”κ°€, μ‚­μ  λ¶κ°€λ¥
    - μ‚¬μ©μκ°€ μ”μ²­ν•λ” κ°’λ§ μ¤νΈλ¦Όμ—μ„ μ¶”μ¶

<aside>
π’΅ μ»¬λ ‰μ…: μƒμ‚°μ μ¤‘μ‹¬ β† ν”κΈ°λ„ μ „μ— μ°½κ³ λ¥Ό κ°€λ“ μ±„μ›€
μ¤νΈλ¦Ό: μ”μ²­ μ¤‘μ‹¬ β† μ‚¬μ©μκ°€ μ”μ²­ν•  λ•λ§ μ μ‘

</aside>

### λ”± ν• λ²λ§ νƒμƒ‰ν•  μ μλ‹¤

- λ°λ³µμμ™€ λ§μ°¬κ°€μ§€λ΅ μ¤νΈλ¦Όλ„ ν• λ²λ§ νƒμƒ‰ κ°€λ¥ β†’ νƒμƒ‰λ μ¤νΈλ¦Ό μ”μ†λ” μ†λΉ„
    - ν• λ² νƒμƒ‰ν• μ”μ†λ¥Ό λ‹¤μ‹ νƒμƒ‰ν•λ ¤λ©΄ μ΄κΈ° λ°μ΄ν„° μ†μ¤μ—μ„ μƒλ΅μ΄ μ¤νΈλ¦Ό μ μ‘

### μ™Έλ¶€ λ°λ³µκ³Ό λ‚΄λ¶€ λ°λ³µ

- μ™Έλ¶€ λ°λ³µ
    - **μ»¬λ ‰μ…** μΈν„°νμ΄μ¤λ¥Ό μ‚¬μ©ν•κΈ° μ„ν•΄ μ‚¬μ©μκ°€ μ§μ ‘ μ”μ† λ°λ³µ (for - each)
        - λ…μ‹μ μΌλ΅ μ»¬λ ‰μ… ν•­λ©μ„ ν•λ‚μ”© κ°€μ Έμ™€μ„ μ²λ¦¬
    - λ³‘λ ¬μ„±μ„ **μ¤μ¤λ΅ κ΄€λ¦¬**
        1. λ³‘λ ¬μ„±μ„ ν¬κΈ°
        2. synchronized λ΅ μ‹μ‘ν•λ” νλ“¤κ³  κΈ΄ μ „μμ„ μ‹μ‘
- λ‚΄λ¶€ λ°λ³µ
    - **μ¤νΈλ¦Ό** λΌμ΄λΈλ¬λ¦¬λ” ν•¨μμ— μ–΄λ–¤ μ‘μ—…μ„ μν–‰ν• μ§€λ§ μ§€μ •ν•λ©΄ λ¨λ“  κ²ƒμ΄ μ•μ•„μ„ μ²λ¦¬
    - μ¥μ : μ‘μ—…μ„ ν¬λ…ν•κ² λ³‘λ ¬λ΅ μ²λ¦¬ν•κ±°λ‚ λ” μµμ ν™”λ λ‹¤μ–‘ν• μμ„λ΅ μ²λ¦¬

```java
// μ»¬λ ‰μ…: for-each λ£¨ν”„ μ΄μ©ν•λ” μ™Έλ¶€ λ°λ³µ
List<String> names = new ArrayList<>();
for(Dish dish: menu){ // λ©”λ‰΄ λ¦¬μ¤νΈλ¥Ό λ…μ‹μ μΌλ΅ μμ°¨ λ°λ³µ
	names.add(dish.getName()); // μ΄λ¦„μ„ μ¶”μ¶ν•΄μ„ λ¦¬μ¤νΈμ— μ¶”κ°€
}

// μ»¬λ ‰μ…: λ‚΄λ¶€μ μΌλ΅ μ¨κ²¨μ΅λ λ°λ³µμ(iterator) λ¥Ό μ‚¬μ©ν• μ™Έλ¶€ λ°λ³µ

...

// μ¤νΈλ¦Ό: λ‚΄λ¶€ λ°λ³µ
List<Stirng> names = menu.stream()
											.map(Dish::getName) // map λ©”μ„λ“λ¥Ό getName λ©”μ„λ“λ΅ νλΌλ―Έν„°ν™”ν•΄μ„ μ”λ¦¬λ… μ¶”μ¶
											.collect(toList()); // νμ΄ν”„λΌμΈμ„ μ‹¤ν–‰, λ°λ³µμ ν•„μ” μ—†μ
 
```

## 4.4 μ¤νΈλ¦Ό μ—°μ‚°

μ΄μ „ μμ  μ½”λ“λ¥Ό μ‚΄ν΄λ³΄μ

```java
List<String> threeHighCaloricDishNames =
	menu.stream()
				.filter(dish -> dish.getCalories() > 300)
				.map(Dish::getName)
				.limit(3)
				.collect(toList());
```

- μ—°μ‚°μ„ λ‘ κ·Έλ£ΉμΌλ΅ κµ¬λ¶„ κ°€λ¥
    - filter, map, limit λ” μ„λ΅ μ—°κ²°λμ–΄ νμ΄ν”„λΌμΈ ν•μ„±
    - collect λ΅ νμ΄ν”„λΌμΈμ„ μ‹¤ν–‰ν• λ‹¤μ λ‹«μ
- μ„μ²λΌ μ—°κ²°ν•  μ μλ” μ¤νΈλ¦Ό μ—°μ‚°μ„ **μ¤‘κ°„ μ—°μ‚°**
- μ¤νΈλ¦Όμ„ λ‹«λ” μ—°μ‚°μ„ **μµμΆ… μ—°μ‚°**

### μ¤‘κ°„ μ—°μ‚°

- filter λ‚ sorted κ°™μ€ μ¤‘κ°„ μ—°μ‚°μ€ λ‹¤λ¥Έ μ¤νΈλ¦Όμ„ λ°ν™
- μ¤‘μ”ν• νΉμ§•μΌλ΅λ” λ‹¨λ§ μ—°μ‚°μ„ μ¤νΈλ¦Ό νμ΄ν”„λΌμΈμ— μ‹¤ν–‰ν•κΈ° μ „κΉμ§€λ” μ•„λ¬΄ μ—°μ‚°λ„ μν–‰ν•μ§€ μ•μ
    
    β†’ **lazy** μ¦‰, β€κ²μΌλ¥΄λ‹¤β€™ β†’ μ¤‘κ°„ μ—°μ‚°μ„ ν•©μΉ λ‹¤μμ— ν•©μ³μ§„ μ¤‘κ°„ μ—°μ‚°μ„ μµμΆ… μ—°μ‚°μΌλ΅ ν• λ²μ— μ²λ¦¬
    

### **μµμΆ… μ—°μ‚°**

- μ¤νΈλ¦Ό νμ΄ν”„λΌμΈμ—μ„ κ²°κ³Όλ¥Ό λ„μ¶
- List, Integer, void λ“± μ¤νΈλ¦Ό μ΄μ™Έμ κ²°κ³Όκ°€ λ°ν™

### **μ¤νΈλ¦Ό μ΄μ©ν•κΈ°**

- μ§μλ¥Ό μν–‰ν•  (μ»¬λ ‰μ… κ°™μ€) λ°μ΄ν„° μ†μ¤
- μ¤νΈλ¦Ό νμ΄ν”„λΌμΈμ„ κµ¬μ„±ν•  μ¤‘κ°„ μ—°μ‚° μ—°κ²°
- μ¤νΈλ¦Ό νμ΄ν”„λΌμΈμ„ μ‹¤ν–‰ν•κ³  κ²°κ³Όλ¥Ό λ§λ“¤ μµμΆ… μ—°μ‚°

- μ¤‘κ°„ μ—°μ‚° && μµμΆ… μ—°μ‚°

![4_2](https://github.com/znight1020/Reading-Development-Book/assets/104980470/7cfc069a-53ff-4a4e-80bd-e2d0ce5fb77d)
